<!DOCTYPE html>

<html>
<head>
    <link rel="manifest" href="~/manifest.json">
    <link href="https://fonts.googleapis.com/css?family=Martel+Sans|Satisfy|Sacramento" rel="stylesheet">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Martins | Gestão de Verba</title>

    @Styles.Render("~/Content/tether")
    @Styles.Render("~/Content/bootstrap")
    <script src="https://use.fontawesome.com/4bc0d857d3.js"></script>
    @Styles.Render("~/Content/site")
    @Styles.Render("~/Content/bootstrap-timepicker.css")
    @Styles.Render("~/Content/bootstrap-datepicker.css")
    @Styles.Render("~/Content/it-custom.css")
    @Styles.Render("~/Content/chosen.min.css")

    



</head>
<body class="small">

    <!-- HEADER -->
    <div class="top" style="padding-top: 0.5em;">
        <!-- BOTÃO MENU -->
        <main class="menu_btn">
            <a href="#" class="ssm-toggle-nav" style="color:white;"><i class="fa fa-bars" aria-hidden="true"></i></a>
        </main>
        <!-- TITULO -->
        <span class="banner-layout-top">
            <a style="font-family: 'Martel Sans', sans-serif; font-size: 90%; ">Gestão de Verbas</a>
        </span>

        <div class="navbar-buttons pull-right hidden-md-down" role="navigation" style="display: block; position: absolute; top: 0; right: 0; padding-top:10px;">
            <ul class="nav ace-nav pull-right">
                <li>
                    <span title="Servidor">
                        <i class="fa fa-server"></i>
                        @System.Environment.MachineName
                    </span>
                    <span title="Versão do aplicativo">
                        &nbsp;<i class="fa fa-info"></i>&nbsp;
                        Versão:
                        @System.Configuration.ConfigurationManager.AppSettings["AppVersion"]
                    </span>
                </li>
                <li>
                    <span title="Usuário Logado">
                        <i class="fa fa-user"></i>
                        @HttpContext.Current.Session["NOMEUSUARIO"]
                    </span>
                    <span title="Fazer logof da aplicação">
                        <i class="fa fa-power-off"></i>&nbsp;
                        @Html.ActionLink("Sair", "Logout", "Login", new { area = "" }, new { onclick = "return jsLogout();", @class = "" })
                    </span>
                </li>
            </ul>
        </div>
    </div>


    <!-- MENU -->
    <div id="menu_smartphone" class="menu_mobile_app">
        <span id="menu_btn-close" class="menu_btn-close"><i class="fa fa-times" aria-hidden="true"></i></span>

        <ul>
            <div class="background_profil"></div>
            <div class="pics_profil">
                <div style="display: table; height: 70px; width: 70px; overflow: hidden;">
                    <div style="display: table-cell; vertical-align: middle; text-align: center; padding-top: 5px;">
                        <div>
                            <a style="font-family: 'Martel Sans', sans-serif; font-size: 300%; color: white;">@HttpContext.Current.Session["INICIALNOME"]</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="name_profil">@HttpContext.Current.Session["NOMECOMPLETO"]<br /><font style="font-weight:300; color:#999999;">@HttpContext.Current.Session["MATRICULA"]</font></div>


            <div class="col-12">
                @* Inicio montagem menu *@
                
                <div class="menu-item">
                    @*<a class="menu-root" href="#">
                        <i class="fa fa-plus"></i>&nbsp Menu Montado
                    </a>*@          
                    @Html.Partial("~/Views/Acesso/MenuAcesso.cshtml", "0", new ViewDataDictionary { TemplateInfo = new TemplateInfo { HtmlFieldPrefix = "Menu" } })

                </div>
                @* Fim montagem menu *@
                <div class="panel">
                    <span>
                        @Html.ActionLink("Sair", "Logout", "Login", new { area = "" }, new { onclick = "return jsLogout();", @class = "" })
                    </span>
                </div>
            </div>




    </div>
    </ul>

    <!--nav class="navbar navbar-expand-md bg-primary navbar-dark" style="padding: 0px;">
        <div class="navbar-brand mx-auto" href="#">
            <div class="row text-center">
                <div class="col-md-4 col-4 text-left">
                    <a class="lblUser" href="https://ww3.martins.com.br/Mobile.AprovaSim/">
                        <i class='fa fa-reply' aria-hidden='true' style='color:orange;'></i>
                        Aprova SIM
                    </a>
                </div>

                <div class="col-md-4 col-4 text-center">
                    <a style="font-size:14px;">
                        <i class='fa fa-user-circle' aria-hidden='true' style='color:#2ecc71;'></i>
                        @HttpContext.Current.Session["NOMEUSUARIO"]
                    </a>
                </div>

                <div class="col-md-4 col-4 text-right">
                    <i class='fa fa-power-off' aria-hidden='true' style='color:#e74c3c;'></i>
                    @Html.ActionLink("Sair", "Logout", "Login", new { area = "" }, new { onclick = "return jsLogout();", @class = "lblUser" })
                </div>
            </div>
        </div>
    </nav-->

    <div class="loadingGif" style="display: none;"></div>
    <div class="loadingFundoBranco" style="display: none;"> </div>
    <div class="loadingFundoPreto" style="display: none;"> </div>

    <div id="grey_back" class="ssm-overlay ssm-toggle-nav"></div>
    <!-- MAIN -->
    <div class="fixed-nav-content">
        <div id="pageContent">
            @RenderBody()
        </div>
    </div>

    <!-- FOOTER -->
    <div class="footer">
        <div class="footer-inner">
            <div class="footer-content">
                <div class="col-sm-12">
                    <span class="bigger-120 pull-center">
                        <img src="~/Images/logo_martins_colorida.svg" alt="" class="img-fluid" width="40">
                    </span>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        var diretorioVirtual = "@System.Configuration.ConfigurationManager.AppSettings["path"]";
    </script>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/tether")
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/bundles/app")
    @Scripts.Render("~/bundles/slideandswipe")

    @Scripts.Render("~/Scripts/jquery.unobtrusive-ajax.js")

    @*
        @Scripts.Render("~/Scripts/jquery.validate.js")
        @Scripts.Render("~/Scripts/jquery.validate.unobtrusive.js")
    *@

    @Scripts.Render("~/Scripts/globalize/globalize.js")
    @Scripts.Render("~/Scripts/globalize/cultures/globalize.culture.pt-BR.js")
    @Scripts.Render("~/Scripts/setup-globalization.js")

    @Scripts.Render("~/Scripts/bootstrap-datepicker.min.js")
    @Scripts.Render("~/Scripts/bootstrap-datepicker.pt-BR.js")
    @Scripts.Render("~/Scripts/bootstrap-timepicker.min.js")
    @Scripts.Render("~/Scripts/moment.min.js")
    @Scripts.Render("~/Scripts/daterangepicker.min.js")
    @Scripts.Render("~/Scripts/jquery.meio.mask.min.js")

    

    @Scripts.Render("~/Scripts/chosen.jquery.min.js")
    @Scripts.Render("~/Scripts/it-custom.js")


    <script src="~/Scripts/jquery.touchSwipe.min.js"></script>

    @Html.Partial("_Alerta")
    @RenderSection("scripts", required: false)

    <script type="text/javascript">
        /*
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker
                 .register('../service-worker.js')
                 .then(function () { console.log('Service Worker Registered'); });
        }
       */
        var dataCacheName = 'GESTAOCREDITOData-v1';
        var cacheName = 'GESTAOCREDITOPWA-final-1';

        if (caches) {
            caches.keys().then(function (keyList) {
                return Promise.all(keyList.map(function (key) {
                    if (key !== cacheName && key !== dataCacheName) {
                        console.log('[ServiceWorker] Removing old cache', key);
                        return caches.delete(key);
                    }
                }));
            });
        }

        function jsLogout() {
            if (confirm('Deseja realmente sair da aplicação?')) {
                return true;
            } else {
                return false;
            }
        }
    </script>
    <script type="text/javascript">

        $(document).ready(function () {

            $('.menu-root').click(function () {
                if ($(this).hasClass('.text-info')) {
                    $(this).addClass('.text-info');
                }
                else {
                    $(this).removeClass('.text-info');
                }
                $(this).next().toggle();
            });
        });



    </script>
</body>
</html>
